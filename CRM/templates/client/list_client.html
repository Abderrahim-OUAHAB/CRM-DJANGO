{% extends 'main.html' %}
{% block contenu %}

<div class="container"style="margin-top:5%;margin-bottom:8%" style="font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif">
    <div class="row">
        <!-- Carte Informations -->
        <div class="col-md-4" >
            <div class="card mb-4">
                <div class="card-header bg-info text-white" style="text-align:center">
                    <h5 class="card-title mb-0">Informations</h5>
                </div>
                <div class="card-body" style="  background: linear-gradient(to top left,black,grey);">
                    <ul class="list-unstyled" style="color:white">
                        <li><strong>Nom:</strong> {{ client.nom }} {{ client.prenom }}</li>
                        <li><strong>Téléphone:</strong> {{ client.telephone }}</li>
                        <li><strong>Email:</strong> {{ client.email }}</li>
                        <li><strong>Adresse:</strong> {{ client.addresse }}</li>
                        <li><strong>Société:</strong> {{ client.societe }}</li>
                        <li><strong>Date d'ajout:</strong> {{ client.date_ajout }}</li>
                        <li><strong>Dernière modification:</strong> {{ client.dernier_modif }}</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Carte Total des Commandes et Montant total -->
        <div class="col-md-4">
            <div class="card mb-4">
                <div class="card-header bg-success text-white" style="text-align:center">
                    <h5 class="card-title mb-0">Total des Commandes</h5>
                </div>
                <div class="card-body text-center" style="  background: linear-gradient(to top left,black,grey);">
                    <h1 style="color:white">{{ commande_tot }}</h1>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card mb-4">
                <div class="card-header bg-warning text-dark" style="text-align:center">
                    <h5 class="card-title mb-0" style="color:white">Montant total</h5>
                </div>
                <div class="card-body text-center" style="  background: linear-gradient(to top left,black,grey);">
                    <h1 style="color:white">{{ montant }} DH</h1>
                </div>
            </div>
        </div>
    </div>

    <!-- Carte Commandes -->
    <div class="row">
        <div class="col-md-12">
            <div class="card shadow-lg mb-4">
                <div class="card-header bg-dark text-white" style="text-align:center">
                    <h5 class="card-title mb-0">Liste des Commandes</h5>
                </div>
                <div class="card-body" style="  background: linear-gradient(to top left,black,grey);">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover" style="color:white">
                            <thead class="thead-dark">
                                <tr>
                                    <th>Produit</th>
                                    <th>Quantité</th>
                                    <th>Client</th>
                                    <th>Date de Commande</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for commande in commande %}
                                <tr>
                                    <td>{{ commande.produit }}</td>
                                    <td>{{ commande.quantite }}</td>
                                    <td>{{ commande.client }}</td>
                                    <td>{{ commande.date_commande }}</td>
                                    <td>{{ commande.status }}</td>
                                </tr>
                                {% empty %}
                                <tr>
                                    <td colspan="5" class="text-center">Aucune commande trouvée.</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="card-footer bg-dark text-white">
                    <a href="{% url 'getFacture_csv' client.id %}" class="btn btn-primary btn-sm"> <i class="fas fa-download"></i> Obtenir la facture CSV</a>
                    <a href="{% url 'getFacture_pdf' client.id %}" class="btn btn-primary btn-sm ml-2"> <i class="fas fa-download"></i> Obtenir la facture PDF</a>


                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}